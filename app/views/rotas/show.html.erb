<%= javascript_tag do %>
  rotaData = {};

  rotaData.rotas = <%= raw render partial: 'api/v1/shared/rotas.json', locals: { rotas: Array(rotas) }  %>;

  rotaData.staff_types = <%= raw render partial: 'api/v1/shared/staff_types.json', locals: { staff_types: staff_types } %>;

  rotaData.rota_shifts = <%= raw render partial: 'api/v1/shared/rota_shifts.json', locals: { rota_shifts: rota_shifts } %>;

  rotaData.staff_members = <%= raw render partial: 'api/v1/shared/staff_members.json', locals: { staff_members: staff_members } %>;

  rotaData.venues = <%= raw render partial: 'api/v1/shared/venues.json', locals: { venues: Array(venues) } %>;

  rotaData.holidays = <%= raw render partial: 'api/v1/shared/holidays.json', locals: { holidays: Array(holidays) } %>;

  window.boss = window.boss || {};
  window.boss.access_token = "<%= access_token.token %>";
  window.boss.rota = rotaData;

  window.boss.rotaVenueId = <%= current_rota.venue.id %>;
  window.boss.rotaDate = "<%= current_rota.date.iso8601 %>";
<% end %>

<%= react_component('RotaApp') %>
