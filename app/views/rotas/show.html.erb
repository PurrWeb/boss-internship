<%= javascript_tag do %>
  rotaData = {};

  rotaData.rotas = <%= api_v1_collection_json(rotas, Api::V1::RotaSerializer) %>;

  rotaData.staff_types = <%= api_v1_collection_json(staff_types, Api::V1::StaffTypeSerializer) %>;

  rotaData.rota_shifts = <%= api_v1_collection_json(rota_shifts, Api::V1::RotaShiftSerializer) %>;

  rotaData.staff_members = <%= api_v1_collection_json(staff_members, Api::V1::StaffMemberSerializer) %>;

  rotaData.venues = <%= api_v1_collection_json(venues, Api::V1::VenueSerializer) %>;

  rotaData.holidays = <%= api_v1_collection_json(holidays, Api::V1::HolidaySerializer) %>;

  window.boss = window.boss || {};
  window.boss.access_token = "<%= access_token.token %>";
  window.boss.rota = rotaData;

  window.boss.rotaVenueId = <%= current_rota.venue.id %>;
  window.boss.rotaDate = "<%= current_rota.date.iso8601 %>";
<% end %>

<%= react_component('RotaApp') %>
