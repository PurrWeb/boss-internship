<% max_col_width = 30 %>
<table class="table table-striped table-bordered" style="text-align: center;">
  <tr>
    <th style="max-width: <%= max_col_width %>px;">Venue</th>
    <% fruit_orders.each do |fruit_order| %>
      <td style="max-width: <%= max_col_width %>px;"><%= fruit_order.venue.name %></td>
    <% end %>
    <th style="text-align: center; max-width: <%= max_col_width %>px;">Total</th>
  </tr>
  <% show_fields.each do |field| %>
    <tr>
      <th><%= FruitOrder.message_for(field) %></th>
      <% fruit_orders.each do |fruit_order| %>
        <td><%= fruit_order.public_send(field) %></td>
      <% end %>
      <td><%= fruit_orders.to_a.sum { |fo| fo.public_send(field) } %></td>
    </tr>
  <% end %>
  <tr>
    <th></th>
    <% fruit_orders.each do |fruit_order| %>
      <td>
        <%= render partial: action_partial, locals: { fruit_order: fruit_order } %>
      </td>
    <% end %>
  </tr>
</table>
