<div id="staff-member-edit-employment-details-page" data-staff-member-id="<%= staff_member.id %>">
  <h1>Edit Employment Details</h1>

  <%= bootstrap_form_for(
        staff_member,
        method: :post,
        url: update_employment_details_staff_member_path(staff_member),
        html: { class: 'employment-details-form' }
      ) do |form| %>
    <%= form.fields_for(:staff_member_venue, (form.object.staff_member_venue || form.object.build_staff_member_venue)) do |venue_fields| %>
      <%= venue_fields.select(
            :venue_id,
            options_for_select(
              Venue.all.map { |venue| [venue.name.titlecase, venue.id] },
              venue_fields.object.try(:venue_id)
            ),
            include_blank: true
          ) %>
    <%= form.select(
          :staff_type,
          options_for_select(
            StaffType.all.map{ |type| [type.name.titleize, type.id] },
            form.object.staff_type.try(:id)
          ),
          include_blank: true,
          label_class: 'required',
          html: {
            name: :staff_type_id
          }
        )
    %>
    <% end %>
    <div class="staff-member-starts-at-field">
      <%= form.date_select(
            :starts_at,
            start_year: Time.now.year + 2,
            end_year: Time.now.year - 2,
            include_blank: true,
            with_css_classes: true
          ) %>
    </div>
    <%= form.text_area :day_perference_note, label: 'Day Preference', help: form.object.day_perference_help_text %>
    <%= form.text_area :hours_preference_note, label: 'Hours Preference', help: form.object.hours_preference_help_text %>
    <%= form.text_field :national_insurance_number %>
    <%= form.submit %>
  <% end %>
</div>
